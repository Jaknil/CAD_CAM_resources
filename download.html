<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Leo's Website</title>
  <link rel="stylesheet" type="text/css" href="index.css">
  <script type="text/javascript" src="index.js"></script> <!-- initializes constants (projects and notes) and changeSubNav() -->
  <script type="text/javascript" src="router.js"></script> <!-- creates router -->
  <!-- load content for notes and projects, to add more pages add them to constants and import here -->
  <script type="text/javascript" src="./content/home.js"></script>
  <!-- _______________________________________________________ -->

  <!-- content -->
  <script type="text/html" id="home"><iframe src="./content/home.html"></iframe></script>
  <script type="text/html" id="aboutMe"><iframe src="./content/aboutMe.html"></iframe></script>
  <script type="text/html" id="contact"><iframe src="./content/contact.html"></iframe></script>
  <script type="text/html" id="millingCalculator"><iframe src="./content/projects/millingCalculator.html"></iframe></script>

  <!-- structure -->
  </head>
  <body>
    <header id="pageHeader">
      <script type="text/javascript" src="progressBar.js"></script>
      <span><progress value="0"></progress><div id="name">Leo McElroy<div></span>
    </header>

    <nav id="sidenav">
      <div id="navContent">
        <a href="#">Home</a>
        <a href="#/aboutMe">About Me</a>
        <a href="#/contact">Contact</a>
        <a href="#/projects">Projects</a>
        <a href="#/notes">Notes</a>
        <hr class="linkedin">
        <a
          href="https://www.linkedin.com/in/leomcelroy/"
          target="_blank"
          class="linkedin">
          in
        </a>
        <div id="subNav"></div>
      </div>
    </nav>
    <div id="tech">
      <span>Powered by</span>
      <a
        href="http://vanilla-js.com/"
        target="_blank">
        <img src="images/vanilla.png">
      </a>
    </div>

    <article id="content"></article>

    <script>
      route('/', 'home', function () {
         changeSubNav("");
      });
      route('/aboutMe', 'aboutMe', function () {
        changeSubNav("");
      });
      route('/contact', 'contact', function () {
        changeSubNav("");
      });
      route('/projects', '', function () {
        changeSubNav("projects");
        changeContent("projects")
      });
      route('/notes', '', function () {
        changeSubNav("notes");
        changeContent("notes")
      });

      projects.forEach(entry => route(
        `/projects/${entry.file}`,
        `${entry.file}`,
        function() {changeSubNav("projects")},
      ));

      notes.forEach(entry =>
        route(`/notes/${entry.file}`,
        `${entry.file}`,
        function () {changeSubNav("notes")},
      ));


    </script>
  </body>
</html>
